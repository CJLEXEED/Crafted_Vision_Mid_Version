<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proceed to Payment</title>
    <link rel="stylesheet" href="styles9.css">
</head>
<body>

    <!-- Back Button -->
    <a href="shopping.html" class="back-btn">‚Üê Back to Shop</a>

    <div class="container">
        <h1>Proceed to Payment</h1>

        <div class="payment-container">
            <!-- Order Summary Section -->
            <div class="order-summary">
                <h2>Order Summary</h2>
                <div class="order-items-container">
                    <!-- Dynamically populated order items will go here -->
                </div>
                <div class="order-total">
                    <p>Total</p>
                    <p class="order-total-price">$0.00</p>
                </div>
            </div>

            <!-- Payment Method Section -->
            <div class="payment-method">
                <h2>Select Payment Method</h2>
                <div class="payment-options">
                    <div class="payment-option">
                        <input type="radio" id="credit-card" name="payment-method" value="credit-card">
                        <label for="credit-card">Credit Card</label>
                    </div>
                    <div class="payment-option">
                        <input type="radio" id="paypal" name="payment-method" value="paypal">
                        <label for="paypal">PayPal</label>
                    </div>
                    <div class="payment-option">
                        <input type="radio" id="bank-transfer" name="payment-method" value="bank-transfer">
                        <label for="bank-transfer">Bank Transfer</label>
                    </div>
                </div>
                <button class="proceed-btn">Proceed to Payment</button>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const orderItemsContainer = document.querySelector('.order-items-container');
        const totalPriceElement = document.querySelector('.order-total-price');
        const cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Function to render cart items in the order summary
        function renderOrderSummary() {
            orderItemsContainer.innerHTML = ''; // Clear current items
            let total = 0;

            if (cart.length === 0) {
                totalPriceElement.textContent = '$0.00';
                return;
            }

            cart.forEach((item) => {
                const itemPrice = parseFloat(item.price);
                const itemQuantity = item.quantity || 1; // Use quantity if defined, else default to 1
                total += itemPrice * itemQuantity;

                const orderItem = document.createElement('div');
                orderItem.classList.add('order-item');
                orderItem.innerHTML = `
                    <p>${item.title}</p>
                    <p>$${(itemPrice * itemQuantity).toFixed(2)}</p>
                `;

                orderItemsContainer.appendChild(orderItem);
            });

            updateTotalPrice(total);
        }

        // Function to update the total price
        function updateTotalPrice(total) {
            totalPriceElement.textContent = `$${total.toFixed(2)}`;
        }

        // Initialize order summary display
        renderOrderSummary();
    });
    </script>

</body>
</html>
